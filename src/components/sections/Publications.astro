---
import { Icon } from 'astro-icon/components';
import publicationsData from '../../data/publications.json';
---

<section id="publications" class="py-24 px-4">
  <div class="max-w-6xl mx-auto">
    <div class="stagger-children">
      <h2 class="text-3xl sm:text-4xl font-bold text-text mb-12 flex items-center gap-4">
        <span class="text-accent">//</span>
        Publications
      </h2>

      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          publicationsData.map((pub) => (
            <article
              class="bg-surface border border-border rounded-xl overflow-hidden hover-glow group flex flex-col"
              data-animate
            >
              <div class="p-6 flex flex-col flex-1">
                <div class="flex items-start justify-between gap-2 mb-3">
                  <h3 class="text-xl font-bold text-text group-hover:text-accent transition-colors">
                    {pub.title}
                  </h3>
                  <Icon
                    name="lucide:file-text"
                    class="w-5 h-5 text-accent shrink-0 mt-1"
                  />
                </div>

                <p class="text-text-muted text-sm mb-2">
                  {pub.authors.join(', ')}
                </p>

                <p class="text-accent text-sm mb-3">
                  {pub.venue} &bull; {pub.year}
                </p>

                <p class="text-text-muted text-sm mb-4 flex-1">
                  {pub.description}
                </p>

                <div class="flex flex-wrap gap-2 mb-4">
                  {pub.tags.map((tag) => (
                    <span class="px-2 py-1 bg-bg text-accent text-xs rounded border border-accent/30">
                      {tag}
                    </span>
                  ))}
                </div>

                {pub.link && (
                  <a
                    href={pub.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-2 text-text-muted hover:text-accent transition-colors text-sm mt-auto"
                  >
                    <Icon name="lucide:external-link" class="w-4 h-4" />
                    View Publication
                  </a>
                )}
              </div>
            </article>
          ))
        }
      </div>
    </div>
  </div>
</section>
