---
import { Icon } from 'astro-icon/components';
import projectsData from '../../data/projects.json';
---

<section id="projects" class="py-24 px-4 bg-surface/30">
  <div class="max-w-6xl mx-auto">
    <div class="stagger-children">
      <h2 class="text-3xl sm:text-4xl font-bold text-text mb-12 flex items-center gap-4">
        <span class="text-accent">//</span>
        Projects
      </h2>

      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          projectsData.map((project) => (
            <article
              class="bg-surface border border-border rounded-xl overflow-hidden hover-glow group"
              data-animate
            >
              <!-- Project image placeholder -->
              <div class="aspect-video bg-bg/50 flex items-center justify-center border-b border-border">
                {project.image ? (
                  <img
                    src={project.image}
                    alt={project.title}
                    class="w-full h-full object-cover"
                  />
                ) : (
                  <Icon
                    name="lucide:code-2"
                    class="w-12 h-12 text-text-muted opacity-30 group-hover:text-accent group-hover:opacity-50 transition-all"
                  />
                )}
              </div>

              <div class="p-6">
                <h3 class="text-xl font-bold text-text mb-2 group-hover:text-accent transition-colors">
                  {project.title}
                </h3>

                <p class="text-text-muted text-sm mb-4 line-clamp-3">
                  {project.description}
                </p>

                <div class="flex flex-wrap gap-2 mb-4">
                  {project.technologies.map((tech) => (
                    <span class="px-2 py-1 bg-bg text-accent text-xs rounded border border-accent/30">
                      {tech}
                    </span>
                  ))}
                </div>

                {project.link && (
                  <a
                    href={project.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-2 text-text-muted hover:text-accent transition-colors text-sm"
                  >
                    <Icon name="lucide:external-link" class="w-4 h-4" />
                    View Project
                  </a>
                )}
              </div>
            </article>
          ))
        }
      </div>
    </div>
  </div>
</section>
